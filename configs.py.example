import os

# Telegram Bot Configuration
telegram_bot_token = 'XXXXXXXXXX:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'

# Telegram Payment Provider Configuration
payment_provider_name = 'BestCloudSolution'
payment_provider_token = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'

# OpenRouter API Configuration
openrouter_api_key = os.getenv('OPENROUTER_API_KEY', '')
openrouter_model = 'openai/gpt-oss-120b'
openrouter_api_url = 'https://openrouter.ai/api/v1/chat/completions'

# AI Settings
min_additional_conditions_length = 20
prompt_injection_detection_enabled = True

# Folders
logs_folder_path = 'logs'
database_folder_path = 'database'
download_folder_path = 'downloads'

# Database
sql_database = {
    'db_name': 'mypostgresdb',
    'user':'postgres',
    'password': 'postgres',
    'host':'localhost',
    'port':'5432',
}

# Pricing (RUB per month, for educational purposes)
pricing = {
    'kafka': {
        'broker': 15000,  # Per broker
        'storage_gb': 10,  # Per GB
    },
    'kubernetes': {
        'control_plane_node': 10000,  # Per node
        'worker_node': 8000,  # Per node
    },
    'redis': {
        'instance': 12000,  # Per instance
        'ram_gb': 1500,  # Per GB RAM
    },
    'rabbitmq': {
        'node': 10000,  # Per node
        'ram_gb': 1000,  # Per GB RAM
    }
}

# Admin IDs
admin_ids = []

# Service sizing parameters
sizing_keywords = {
    'kafka': ['kafka', '–∫–∞—Ñ–∫–∞', '–∫–∞—Ñ–∫—É'],
    'kubernetes': ['kubernetes', 'k8s', '–∫—É–±–µ—Ä', '–∫—É–±–µ—Ä–Ω–µ—Ç–µ—Å'],
    'redis': ['redis', '—Ä–µ–¥–∏—Å'],
    'rabbitmq': ['rabbitmq', 'rabbit', '—Ä—ç–±–±–∏—Ç', '—Ä–∞–±–±–∏—Ç']
}

# Commands list
help_list = ['/help', '–ø–æ–º–æ—â—å', 'help']
menu_list = ['/menu', '–º–µ–Ω—é', 'menu']

# Banned users (for prompt injection detection)
banned_users = set()


# === –ö–û–ù–°–¢–ê–ù–¢–´ –î–õ–Ø –î–ò–ê–ü–ê–ó–û–ù–û–í ===
SERVICE_CONFIGS = {
    'kafka': {
        'display_name': '‚òï Kafka',
        'state_group': 'classes.KafkaSizing',
        'calculator': 'calculate_kafka_sizing',
        'parameters': {
            'messages_per_sec': {
                'order': 1,
                'text': '–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É:',
                'ranges': [
                    (100, '100 msg/s'),
                    (1000, '1000 msg/s'),
                    (5000, '5000 msg/s'),
                    (10000, '10K msg/s')
                ],
                'validation': {
                    'min': 1,
                    'max': 100000,
                    'type': int,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100000.'
                },
                'display': '{value} —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫'
            },
            'message_size_kb': {
                'order': 2,
                'text': '–í–≤–µ–¥–∏—Ç–µ —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ö–ë:',
                'ranges': [
                    (1, '1 –ö–ë (–º–µ–ª–∫–∏–µ)'),
                    (10, '10 –ö–ë (—Å—Ä–µ–¥–Ω–∏–µ)'),
                    (100, '100 –ö–ë (–∫—Ä—É–ø–Ω—ã–µ)')
                ],
                'validation': {
                    'min': 0.1,
                    'max': 1000,
                    'type': float,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 0.1 –¥–æ 1000 –ö–ë.'
                },
                'display': '{value} –ö–ë/—Å–æ–æ–±—â–µ–Ω–∏–µ'
            },
            'retention_hours': {
                'order': 3,
                'text': '–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Å–∞—Ö:',
                'ranges': [
                    (24, '24 —á–∞—Å–∞'),
                    (168, '1 –Ω–µ–¥–µ–ª—è'),
                    (720, '1 –º–µ—Å—è—Ü'),
                    (8760, '1 –≥–æ–¥')
                ],
                'validation': {
                    'min': 1,
                    'max': 8760,
                    'type': int,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 8760.'
                },
                'display': '{value} —á–∞—Å–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è'
            },
            'replication_factor': {
                'order': 4,
                'text': '–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–∫—Ç–æ—Ä —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (–æ–±—ã—á–Ω–æ 3):',
                'ranges': [
                    (1, '1x (–±–µ–∑ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏)'),
                    (2, '2x (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)'),
                    (3, '3x (HA)'),
                    (5, '5x (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å)')
                ],
                'validation': {
                    'min': 1,
                    'max': 5,
                    'type': int,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 5.'
                },
                'display': '{value}x —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è'
            }
        }
    },
    'kubernetes': {
        'display_name': '‚éà Kubernetes',
        'state_group': 'classes.K8sSizing',
        'calculator': 'calculate_k8s_sizing',
        'parameters': {
            'pods_count': {
                'order': 1,
                'text': '–í–≤–µ–¥–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–æ–≤:',
                'ranges': [
                    (10, '10 –ø–æ–¥–æ–≤'),
                    (50, '50 –ø–æ–¥–æ–≤'),
                    (100, '100 –ø–æ–¥–æ–≤'),
                    (500, '500 –ø–æ–¥–æ–≤')
                ],
                'validation': {
                    'min': 1,
                    'max': 10000,
                    'type': int,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 10000.'
                },
                'display': '{value} –ø–æ–¥–æ–≤'
            },
            'avg_cpu_per_pod': {
                'order': 2,
                'text': '–í–≤–µ–¥–∏—Ç–µ —Å—Ä–µ–¥–Ω–∏–π CPU –Ω–∞ –ø–æ–¥ (–≤ —è–¥—Ä–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä 0.5):',
                'ranges': [
                    (0.25, '0.25 CPU'),
                    (0.5, '0.5 CPU'),
                    (1, '1 CPU'),
                    (2, '2 CPU')
                ],
                'validation': {
                    'min': 0.1,
                    'max': 32,
                    'type': float,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 0.1 –¥–æ 32.'
                },
                'display': '{value} CPU/–ø–æ–¥'
            },
            'avg_ram_per_pod_gb': {
                'order': 3,
                'text': '–í–≤–µ–¥–∏—Ç–µ —Å—Ä–µ–¥–Ω—é—é RAM –Ω–∞ –ø–æ–¥ –≤ –ì–ë:',
                'ranges': [
                    (0.5, '0.5 –ì–ë'),
                    (1, '1 –ì–ë'),
                    (2, '2 –ì–ë'),
                    (4, '4 –ì–ë')
                ],
                'validation': {
                    'min': 0.1,
                    'max': 256,
                    'type': float,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 0.1 –¥–æ 256.'
                },
                'display': '{value} –ì–ë RAM/–ø–æ–¥'
            },
            'high_availability': {
                'order': 4,
                'text': '–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (HA)?',
                'ranges': [
                    (True, '–î–∞ (HA)'),
                    (False, '–ù–µ—Ç')
                ],
                'validation': {
                    'type': bool,
                    'error': '‚ùå –í–≤–µ–¥–∏—Ç–µ "–¥–∞" –∏–ª–∏ "–Ω–µ—Ç".'
                },
                'display': 'HA: {value}',
                'custom_parse': lambda text: text.lower() in ['–¥–∞', 'yes', 'y', '–¥', '+']
            }
        }
    },
    'redis': {
        'display_name': 'üóÑÔ∏è Redis',
        'state_group': 'classes.RedisSizing',
        'calculator': 'calculate_redis_sizing',
        'parameters': {
            'dataset_size_gb': {
                'order': 1,
                'text': '–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ –ì–ë:',
                'ranges': [
                    (1, '1 –ì–ë'),
                    (10, '10 –ì–ë'),
                    (50, '50 –ì–ë'),
                    (100, '100 –ì–ë')
                ],
                'validation': {
                    'min': 0.1,
                    'max': 10000,
                    'type': float,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 0.1 –¥–æ 10000.'
                },
                'display': '{value} –ì–ë –¥–∞–Ω–Ω—ã—Ö'
            },
            'operations_per_sec': {
                'order': 2,
                'text': '–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É:',
                'ranges': [
                    (1000, '1K ops/s'),
                    (10000, '10K ops/s'),
                    (50000, '50K ops/s'),
                    (100000, '100K ops/s')
                ],
                'validation': {
                    'min': 1,
                    'max': 1000000,
                    'type': int,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 1000000.'
                },
                'display': '{value} ops/—Å–µ–∫'
            },
            'high_availability': {
                'order': 3,
                'text': '–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (HA)?',
                'ranges': [
                    (True, '–î–∞ (HA)'),
                    (False, '–ù–µ—Ç')
                ],
                'validation': {
                    'type': bool,
                    'error': '‚ùå –í–≤–µ–¥–∏—Ç–µ "–¥–∞" –∏–ª–∏ "–Ω–µ—Ç".'
                },
                'display': 'HA: {value}',
                'custom_parse': lambda text: text.lower() in ['–¥–∞', 'yes', 'y', '–¥', '+']
            },
            'persistence': {
                'order': 4,
                'text': '–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö?',
                'ranges': [
                    (True, '–î–∞'),
                    (False, '–ù–µ—Ç')
                ],
                'validation': {
                    'type': bool,
                    'error': '‚ùå –í–≤–µ–¥–∏—Ç–µ "–¥–∞" –∏–ª–∏ "–Ω–µ—Ç".'
                },
                'display': '–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: {value}',
                'custom_parse': lambda text: text.lower() in ['–¥–∞', 'yes', 'y', '–¥', '+']
            }
        }
    },
    'rabbitmq': {
        'display_name': 'üê∞ RabbitMQ',
        'state_group': 'classes.RabbitMQSizing',
        'calculator': 'calculate_rabbitmq_sizing',
        'parameters': {
            'messages_per_sec': {
                'order': 1,
                'text': '–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É:',
                'ranges': [
                    (100, '100 msg/s'),
                    (1000, '1K msg/s'),
                    (5000, '5K msg/s'),
                    (10000, '10K msg/s')
                ],
                'validation': {
                    'min': 1,
                    'max': 100000,
                    'type': int,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100000.'
                },
                'display': '{value} —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫'
            },
            'message_size_kb': {
                'order': 2,
                'text': '–í–≤–µ–¥–∏—Ç–µ —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ö–ë:',
                'ranges': [
                    (1, '1 –ö–ë'),
                    (10, '10 –ö–ë'),
                    (100, '100 –ö–ë')
                ],
                'validation': {
                    'min': 0.1,
                    'max': 1000,
                    'type': float,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 0.1 –¥–æ 1000.'
                },
                'display': '{value} –ö–ë/—Å–æ–æ–±—â–µ–Ω–∏–µ'
            },
            'queue_depth': {
                'order': 3,
                'text': '–í–≤–µ–¥–∏—Ç–µ –≥–ª—É–±–∏–Ω—É –æ—á–µ—Ä–µ–¥–∏ (—Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π):',
                'ranges': [
                    (1000, '1K —Å–æ–æ–±—â–µ–Ω–∏–π'),
                    (10000, '10K —Å–æ–æ–±—â–µ–Ω–∏–π'),
                    (100000, '100K —Å–æ–æ–±—â–µ–Ω–∏–π')
                ],
                'validation': {
                    'min': 1,
                    'max': 10000000,
                    'type': int,
                    'error': '‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 10000000.'
                },
                'display': '{value} —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –æ—á–µ—Ä–µ–¥–∏'
            },
            'high_availability': {
                'order': 4,
                'text': '–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (HA)?',
                'ranges': [
                    (True, '–î–∞ (HA)'),
                    (False, '–ù–µ—Ç')
                ],
                'validation': {
                    'type': bool,
                    'error': '‚ùå –í–≤–µ–¥–∏—Ç–µ "–¥–∞" –∏–ª–∏ "–Ω–µ—Ç".'
                },
                'display': 'HA: {value}',
                'custom_parse': lambda text: text.lower() in ['–¥–∞', 'yes', 'y', '–¥', '+']
            }
        }
    }
}